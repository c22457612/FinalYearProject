<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>VPT Control Centre - Vendor Vault</title>
  <link rel="stylesheet" href="css/base.css" />
  <link rel="stylesheet" href="css/site-insights.css" />
</head>
<body class="site-page">
  <header class="site-header">
    <div class="site-header-left">
      <a class="back-link" href="/">&larr; Back to Control Centre</a>
      <h1>Vendor Vault</h1>
      <div class="site-subtitle">Vendor-scoped potentially shared data inventory and guidance.</div>
    </div>
  </header>

  <div class="site-content">
    <section id="vaultMissingState" class="panel hidden">
      <div class="panel-title">Vendor Vault</div>
      <div class="panel-subtitle">Open Vendor Vault from Site Insights after selecting a vendor.</div>
      <div id="vaultMissingLinks" class="site-actions"></div>
    </section>

    <section id="vaultContent" class="vendor-vault-header-strip hidden">
      <div class="vendor-vault-header-title">Vendor Vault</div>
      <div class="vendor-vault-header-chips">
        <span id="vaultSiteChip" class="pill pill-kind">Site: -</span>
        <span id="vaultVendorChip" class="pill pill-kind">Vendor: -</span>
      </div>
      <a id="backToSiteInsightsLink" class="back-link vendor-vault-header-link" href="/">Back to Site Insights</a>
    </section>

    <section id="vaultSections" class="hidden vendor-vault-sections">
      <section class="panel vendor-vault-inventory-panel">
        <div class="panel-header">
          <div>
            <div class="panel-title">Potentially shared data inventory</div>
            <div class="vendor-vault-disclaimer">
              Derived from captured browser signals (request metadata). This is not proof of vendor storage.
            </div>
          </div>
        </div>

        <div id="exposureLoadingState" class="vendor-vault-state">
          Loading potentially shared inventory...
        </div>

        <div id="exposureErrorState" class="vendor-vault-state hidden" role="alert">
          <div>Could not load potential sharing inventory for this scope.</div>
          <div>
            <button id="exposureRetryButton" type="button" class="viz-nav">Retry</button>
          </div>
        </div>

        <div id="exposureEmptyState" class="vendor-vault-state hidden">
          No exposure signals observed for this site and vendor in captured request metadata.
        </div>

        <div id="exposureSuccessState" class="hidden">
          <section id="exposureWhatThisMeans" class="vendor-vault-sharing-summary">
            <div class="vendor-vault-sharing-heading">What this means for you</div>
            <div class="vendor-vault-summary-grid">
              <div class="vendor-vault-score-visual" aria-label="Overall exposure score">
                <svg class="vendor-vault-score-ring" viewBox="0 0 120 120" role="img" aria-hidden="true">
                  <circle class="vendor-vault-score-ring-track" cx="60" cy="60" r="44"></circle>
                  <circle id="exposureSummaryScoreRing" class="vendor-vault-score-ring-progress" cx="60" cy="60" r="44"></circle>
                </svg>
                <div class="vendor-vault-score-center">
                  <div id="exposureSummaryScoreValue" class="vendor-vault-score-center-value">-</div>
                  <div id="exposureSummaryScoreBand" class="vendor-vault-score-center-band">-</div>
                </div>
              </div>
              <div class="vendor-vault-summary-copy">
                <div id="exposureSummaryScoreText" class="vendor-vault-score-line">Exposure score: -</div>
                <div class="vendor-vault-sharing-row">
                  <span class="vendor-vault-sharing-label">Potentially received (Observed):</span>
                  <span id="exposureMayHaveReceivedList" class="vendor-vault-sharing-value">-</span>
                </div>
                <div class="vendor-vault-sharing-row">
                  <span class="vendor-vault-sharing-label">Blocked attempts:</span>
                  <span id="exposureAttemptedToReceiveList" class="vendor-vault-sharing-value">-</span>
                </div>
                <div class="vendor-vault-sharing-actions">
                  <div class="vendor-vault-sharing-actions-title">Top recommended actions</div>
                  <ul id="exposureVendorActionsList" class="vendor-vault-action-list"></ul>
                </div>
              </div>
            </div>
          </section>

          <div class="vendor-vault-inventory-box">
            <div id="exposureInventoryList" class="vendor-vault-inventory-list" role="list"></div>
          </div>
        </div>
      </section>

      <div class="summary vendor-vault-future">
        <div class="summary-card">
          <h2>Activity summary</h2>
          <div class="hint">Coming in VAULT-2</div>
        </div>
        <div class="summary-card">
          <h2>Domains used</h2>
          <div class="hint">Coming in VAULT-2</div>
        </div>
        <div class="summary-card">
          <h2>Observed parameter keys</h2>
          <div class="hint">Coming in VAULT-2</div>
        </div>
        <div class="summary-card">
          <h2>Risk summary</h2>
          <div class="hint">Coming in VAULT-2</div>
        </div>
      </div>
    </section>
  </div>

  <script type="module" src="vendor-vault.js"></script>
</body>
</html>
